[gd_scene load_steps=9 format=4 uid="uid://pywn3tf5j5pj"]

[ext_resource type="Script" uid="uid://ds3sapsqgomdn" path="res://scripts/game_manager.gd" id="1_iywne"]
[ext_resource type="TileSet" uid="uid://h6upodi6txib" path="res://assets/tileset.tres" id="1_lbhrr"]
[ext_resource type="Script" uid="uid://buj6ft1vvdf2f" path="res://addons/hexagon_tilemaplayer/hexagon_tilemaplayer.gd" id="2_lbhrr"]
[ext_resource type="Script" uid="uid://cdpxtku3p6sfy" path="res://scripts/tile_manager.gd" id="5_iywne"]
[ext_resource type="Script" uid="uid://bf8vaeods1ptt" path="res://scripts/camera.gd" id="6_p57ef"]

[sub_resource type="Gradient" id="Gradient_iywne"]
offsets = PackedFloat32Array(0, 0.564935)
colors = PackedColorArray(0.34, 0.824, 1, 1, 1, 1, 1, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_p57ef"]
gradient = SubResource("Gradient_iywne")

[sub_resource type="LabelSettings" id="LabelSettings_8cj0n"]
font_size = 96
font_color = Color(0.74, 0.952333, 1, 1)

[node name="Node" type="Node" node_paths=PackedStringArray("_item_container", "_tile_manager", "_camera")]
script = ExtResource("1_iywne")
_item_container = NodePath("CanvasLayer/Menu/VBoxContainer/Panel/ItemContainer")
_tile_manager = NodePath("TileManager")
_camera = NodePath("Camera2D")

[node name="Node2D" type="Node2D" parent="."]
rotation = -1.5708

[node name="sky" type="TextureRect" parent="Node2D"]
offset_left = 189.0
offset_top = -666.0
offset_right = 445.0
offset_bottom = 765.0
texture = SubResource("GradientTexture1D_p57ef")

[node name="LightLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAADAPr/AwACAAYAAAA=")
tile_set = ExtResource("1_lbhrr")
collision_enabled = false
navigation_enabled = false
script = ExtResource("2_lbhrr")

[node name="EventLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAD//xYAAAAAAAAAAQD+/wwAAAAAAAAAAQA=")
tile_set = ExtResource("1_lbhrr")
collision_enabled = false
navigation_enabled = false
script = ExtResource("2_lbhrr")

[node name="WallLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAABAAAAAQAAAAAAAAAAAAEAAQAAAAAAAAAAAAIAAQAAAAAAAAD//wIAAQABAAAAAAD+/wMAAQAAAAAAAAABAAEAAQACAAAAAAABAAIAAQACAAAAAAD//wEAAQACAAAAAAD+/wIAAQACAAAAAAD9/wIAAQACAAAAAAD8/wMAAQACAAAAAAD9/wMAAQABAAAAAAD9/wQAAQABAAAAAAD//wQAAQAAAAAAAAD9/wUAAQAAAAAAAAD8/wUAAQAAAAAAAAD8/wQAAQAAAAAAAAD//wYAAQAAAAAAAAAAAAYAAQAAAAAAAAABAAYAAQACAAAAAAABAAUAAQACAAAAAAABAAQAAQAAAAAAAAAEAAQAAQAAAAAAAAAFAAEAAQACAAAAAAACAAUAAQACAAAAAAAEAAUAAQABAAAAAAAFAAQAAQABAAAAAAAFAAMAAQABAAAAAAAAAAAAAQAJAAIAAAD//wAAAQACAAAAAAD+/wAAAQACAAAAAAD9/wAAAQACAAAAAAD8/wAAAQACAAAAAAD8/wEAAQACAAAAAAD7/wAAAQACAAAAAAD6/wEAAQACAAAAAAD5/wAAAQACAAAAAAD4/wEAAQACAAAAAAD4/wIAAQACAAAAAAD4/wMAAQACAAAAAAD4/wQAAQACAAAAAAD4/wUAAQACAAAAAAD5/wUAAQACAAAAAAD4/wYAAQACAAAAAAD5/wYAAQACAAAAAAD4/wcAAQACAAAAAAD5/wcAAQACAAAAAAD5/wgAAQACAAAAAAD4/wgAAQACAAAAAAD6/wgAAQAAAAAAAAD7/wcAAQACAAAAAAD8/wgAAQAAAAAAAAD//wcAAQACAAAAAAABAAgAAQAAAAAAAAACAAgAAQACAAAAAAADAAgAAQACAAAAAAAEAAgAAQACAAAAAAAFAAgAAQACAAAAAAAGAAgAAQACAAAAAAAGAAcAAQACAAAAAAAGAAYAAQACAAAAAAAGAAUAAQACAAAAAAAGAAQAAQACAAAAAAAGAAMAAQACAAAAAAAGAAIAAQACAAAAAAAGAAEAAQACAAAAAAAFAAAAAQACAAAAAAAGAAAAAQACAAAAAAAHAP//AQADAAAAAAAHAAAAAQACAAAAAAAIAAEAAQACAAAAAAAHAAEAAQACAAAAAAAHAAIAAQACAAAAAAAIAAMAAQACAAAAAAAIAAQAAQACAAAAAAAIAAUAAQACAAAAAAAHAAUAAQACAAAAAAAIAAYAAQACAAAAAAAHAAYAAQACAAAAAAAHAAcAAQACAAAAAAAHAAQAAQACAAAAAAAHAAMAAQACAAAAAAAFAAIAAQACAAAAAAAFAAUAAQACAAAAAAAFAAYAAQACAAAAAAAEAAcAAQACAAAAAAADAAcAAQABAAAAAAAEAAYAAQABAAAAAAAFAAcAAQACAAAAAAAAAAcAAQACAAAAAAACAAYAAQACAAAAAAD6/wcAAQACAAAAAAD6/wYAAQACAAAAAAD6/wUAAQACAAAAAAD5/wQAAQAAAAAAAAD5/wMAAQAAAAAAAAD6/wMAAQAAAAAAAAD7/wEAAQACAAAAAAD6/wIAAQAAAAAAAAD5/wIAAQAAAAAAAAD5/wEAAQAAAAAAAAD7/wgAAQAAAAAAAAAAAAkAAQAAAAAAAAD4/w4AAQACAAEAAAD5/w0AAQACAAEAAAD5/w4AAQACAAEAAAD4/w8AAQACAAEAAAD6/w4AAQACAAEAAAD7/w4AAQACAAEAAAD8/w4AAQACAAEAAAD9/w0AAQACAAEAAAD+/w4AAQACAAEAAAD//w0AAQACAAEAAAAAAA4AAQACAAEAAAABAA4AAQACAAEAAAACAA4AAQACAAEAAAADAA4AAQACAAEAAAAEAA4AAQACAAEAAAAFAA4AAQACAAEAAAAGAA4AAQACAAEAAAAHAA4AAQACAAEAAAAIAA4AAQACAAEAAAAJAA4AAQACAAEAAAAKAA4AAQACAAEAAAALAA4AAQACAAEAAAAMAA4AAQACAAEAAAANAA4AAQACAAEAAAAOAA4AAQACAAEAAAANAA0AAQACAAEAAAALAA0AAQACAAEAAAAJAA0AAQACAAEAAAAHAA0AAQACAAEAAAAFAA0AAQACAAEAAAADAA0AAQACAAEAAAABAA0AAQACAAEAAAD8/w0AAQACAAEAAAD7/w0AAQACAAEAAAD6/w0AAQACAAEAAAD4/w0AAQACAAEAAAD3/w0AAQACAAEAAADy/w4AAQACAAEAAADz/w0AAQACAAEAAAD0/w4AAQACAAEAAAD1/w0AAQACAAEAAAD2/w4AAQACAAEAAAD3/w4AAQACAAEAAAD2/w8AAQACAAEAAAD1/w4AAQACAAEAAAD0/w8AAQACAAEAAADz/w4AAQACAAEAAADy/w8AAQACAAEAAADx/w4AAQACAAEAAAD6/w8AAQACAAEAAAD8/w8AAQACAAEAAAD9/w4AAQACAAEAAAD+/w8AAQACAAEAAAD//w4AAQACAAEAAAAAAA8AAQACAAEAAAACAA8AAQACAAEAAAAEAA8AAQACAAEAAAAGAA8AAQACAAEAAAAIAA8AAQACAAEAAAAKAA8AAQACAAEAAAAMAA8AAQACAAEAAAAOAA8AAQACAAEAAAAPAA4AAQACAAEAAAAPAA0AAQACAAEAAAAOAA0AAQACAAEAAAAMAA0AAQACAAEAAAAKAA0AAQACAAEAAAAIAA0AAQACAAEAAAAGAA0AAQACAAEAAAAEAA0AAQACAAEAAAACAA0AAQACAAEAAAAAAA0AAQACAAEAAAD+/w0AAQACAAEAAAD0/w0AAQACAAEAAADy/w0AAQACAAEAAADx/w0AAQACAAEAAAD2/w0AAQACAAEAAADy/wsAAQACAAEAAADz/wsAAQACAAEAAAD0/wsAAQACAAEAAAD1/wsAAQACAAEAAAD2/wsAAQACAAEAAAD3/wsAAQACAAEAAAD4/wsAAQACAAEAAAD5/wsAAQACAAEAAAD6/wsAAQACAAEAAAD7/wsAAQACAAEAAAD8/wsAAQACAAEAAAAAAAsAAQACAAEAAAABAAsAAQACAAEAAAACAAsAAQACAAEAAAADAAsAAQACAAEAAAAEAAwAAQACAAEAAAAFAAsAAQACAAEAAAAGAAwAAQACAAEAAAAHAAsAAQACAAEAAAAIAAwAAQACAAEAAAAJAAsAAQACAAEAAAAKAAwAAQACAAEAAAALAAsAAQACAAEAAAAMAAwAAQACAAEAAAANAAsAAQACAAEAAAAOAAwAAQACAAEAAAAPAAsAAQACAAEAAAAOAAsAAQACAAEAAAAMAAsAAQACAAEAAAAKAAsAAQACAAEAAAAIAAsAAQACAAEAAAAGAAsAAQACAAEAAAAEAAsAAQACAAEAAAAPAAwAAQACAAEAAAANAAwAAQACAAEAAAALAAwAAQACAAEAAAAJAAwAAQACAAEAAAAHAAwAAQACAAEAAAAFAAwAAQACAAEAAAADAAwAAQACAAEAAAABAAwAAQACAAEAAAD//wwAAQACAAEAAAD9/wwAAQACAAEAAAD7/wwAAQACAAEAAAD5/wwAAQACAAEAAAD3/wwAAQACAAEAAAD1/wwAAQACAAEAAADz/wwAAQACAAEAAADy/wwAAQACAAEAAAD0/wwAAQACAAEAAAD2/wwAAQACAAEAAAD4/wwAAQACAAEAAAD6/wwAAQACAAEAAAD8/wwAAQACAAEAAAAAAAwAAQACAAEAAAACAAwAAQACAAEAAAAEAAkAAQAEAAEAAAAEAAoAAQAEAAEAAAAFAAkAAQAEAAEAAAAGAAkAAQAEAAEAAAAHAAgAAQAEAAEAAAAIAAkAAQAHAAAAAAAJAAgAAQAEAAEAAAAKAAkAAQAHAAAAAAALAAgAAQAEAAEAAAAMAAkAAQAEAAEAAAALAAkAAQAEAAEAAAAKAAoAAQAEAAEAAAAJAAkAAQAHAAAAAAAIAAoAAQAEAAEAAAAHAAkAAQAHAAAAAAAGAAoAAQAEAAEAAAAFAAoAAQAEAAEAAAAHAAoAAQAHAAAAAAAJAAoAAQAHAAAAAAALAAoAAQAHAAAAAAAMAAoAAQAIAAAAAAANAAkAAQAIAAAAAAANAAoAAQAIAAAAAAANAAgAAQAIAAAAAAAMAAgAAQAJAAAAAAAIAAgAAQAJAAAAAAAKAAgAAQAJAAAAAAAJAAcAAQAJAAAAAAAIAAcAAQAJAAAAAAALAAcAAQAIAAAAAAANAAcAAQAJAAAAAAAJAAUAAQAJAAIAAAAKAAYAAQAJAAIAAAAKAAcAAQAJAAIAAAAKAAUAAQAJAAIAAAAJAAQAAQAJAAIAAAAJAAMAAQAJAAIAAAAKAAQAAQAJAAIAAAD4/wkAAQAFAAIAAAD4/woAAQAFAAIAAAD5/woAAQAFAAIAAAD5/wkAAQAFAAIAAAD6/wkAAQAFAAIAAAD3/woAAQAJAAAAAAD3/wkAAQAJAAAAAAD3/wgAAQAJAAAAAAD2/wgAAQAJAAAAAAD2/wcAAQAJAAAAAAD1/wcAAQAJAAAAAAD1/wgAAQAJAAAAAAD0/wkAAQAJAAAAAAD1/wkAAQAJAAAAAAD0/woAAQAJAAAAAAD1/woAAQAJAAAAAAD2/wkAAQAJAAAAAAD2/woAAQAJAAAAAADz/woAAQABAAIAAADz/wkAAQABAAIAAADy/woAAQABAAIAAADz/wgAAQAHAAIAAAD0/wgAAQAHAAIAAADz/wcAAQAHAAIAAAD0/wcAAQAHAAIAAAD0/wYAAQAHAAIAAAD0/wUAAQAHAAIAAAD0/wQAAQAHAAIAAAD0/wMAAQAHAAIAAAD1/wIAAQAHAAIAAAD1/wMAAQAHAAIAAAD1/wQAAQAHAAIAAADz/wYAAQAHAAIAAADz/wUAAQAHAAIAAADz/wQAAQAHAAIAAADz/wMAAQAHAAIAAAD1/wYAAQAHAAEAAAD1/wUAAQAHAAEAAAD2/wYAAQAHAAEAAAD3/wYAAQAHAAEAAAD3/wcAAQAHAAEAAAD3/wUAAQAJAAIAAAD3/wQAAQAJAAIAAAD2/wQAAQAJAAIAAAD2/wUAAQAJAAIAAAD3/wMAAQAHAAEAAAD3/wIAAQAHAAEAAAD2/wIAAQAHAAEAAAD2/wMAAQAHAAEAAAD3/wEAAQAHAAEAAAD2/wEAAQAHAAEAAAD3/wAAAQAHAAEAAAD2/wAAAQAHAAEAAAD3////AQAHAAEAAADy/wkAAQAEAAEAAADy/wgAAQAEAAEAAADy/wcAAQAEAAEAAADy/wYAAQAEAAEAAADy/wUAAQAEAAEAAADy/wQAAQAHAAAAAADy/wEAAQAHAAAAAADy/wAAAQAHAAAAAADy/wIAAQAHAAAAAADy/wMAAQAHAAAAAADy////AQAHAAAAAADy//7/AQAAAAEAAADy//3/AQADAAIAAAANAAYAAQAEAAEAAAANAAUAAQAEAAEAAAANAAQAAQAEAAEAAAANAAMAAQAGAAEAAAANAAIAAQAGAAEAAAANAAEAAQAGAAEAAAANAAAAAQAAAAEAAAANAP//AQADAAAAAAANAP7/AQADAAIAAADz/wEAAQAAAAEAAAD0/wEAAQAAAAEAAAD1/wAAAQAAAAEAAAD0/wIAAQAAAAEAAADz/wIAAQAAAAEAAAD1/wEAAQAAAAEAAAD1////AQAAAAEAAAD1//7/AQAAAAEAAAD0////AQAAAAEAAADz////AQAAAAEAAAD0/wAAAQAAAAEAAADz/wAAAQAAAAEAAAD3//z/AQADAAIAAAD4//3/AQADAAIAAAD5//z/AQADAAIAAAD6//3/AQADAAIAAAD7//z/AQADAAIAAAD8//3/AQADAAIAAAD9//z/AQADAAIAAAD///z/AQADAAIAAAAAAP3/AQADAAIAAAABAPz/AQADAAIAAAAFAPz/AQADAAIAAAAHAPz/AQADAAIAAAAJAPz/AQADAAIAAAD1//3/AQADAAIAAAD0//3/AQADAAIAAAD1//z/AQADAAIAAAD2//3/AQADAAIAAAD0//7/AQAAAAEAAADz//3/AQADAAIAAADz//7/AQAAAAEAAADz//z/AQADAAIAAAAHAP7/AQADAAAAAAAHAP3/AQADAAIAAAAGAP3/AQADAAIAAAAIAP3/AQADAAIAAAAJAP3/AQADAAIAAAAKAP7/AQADAAIAAAALAP3/AQADAAIAAAAKAP3/AQADAAIAAAAMAP7/AQADAAIAAAAMAP//AQADAAIAAAALAP7/AQADAAIAAAAIAP7/AQADAAIAAAAIAP//AQADAAAAAAAJAP7/AQADAAAAAAAKAP//AQADAAAAAAALAP//AQADAAAAAAAKAAAAAQADAAAAAAAJAP//AQADAAAAAAAIAAAAAQADAAAAAAAMAP3/AQADAAIAAAAJAAAAAQAGAAEAAAAJAAEAAQAGAAEAAAAIAAIAAQAGAAEAAAAJAAIAAQAGAAEAAAAKAAIAAQAGAAEAAAALAAEAAQAGAAEAAAALAAAAAQAGAAEAAAAMAAAAAQAGAAEAAAAMAAEAAQAGAAEAAAAKAAEAAQAGAAEAAAALAAIAAQAGAAEAAAAMAAIAAQAGAAEAAAAKAAMAAQAGAAEAAAALAAMAAQAGAAEAAAAMAAMAAQAGAAEAAAAMAAQAAQAGAAEAAAALAAQAAQAGAAEAAAAMAAUAAQAGAAEAAAAJAAYAAQAJAAIAAAALAAUAAQAIAAAAAAALAAYAAQAIAAAAAAAMAAcAAQAIAAAAAAAMAAYAAQAIAAAAAAD4/wAAAQACAAAAAAD4////AQACAAAAAAD4//7/AQADAAIAAAD3//7/AQADAAIAAAD2////AQADAAIAAAD2//7/AQADAAIAAAD3//3/AQADAAIAAAD5//3/AQADAAIAAAD5//7/AQADAAIAAAD5////AQACAAAAAAD6/wAAAQACAAAAAAD6////AQADAAIAAAD6//7/AQADAAIAAAD7//3/AQADAAIAAAD8//7/AQAGAAIAAAD7//7/AQAGAAIAAAD8////AQAGAAIAAAD7////AQAGAAIAAAD9//3/AQADAAIAAAD+//7/AQADAAIAAAD+//3/AQADAAIAAAD///3/AQADAAIAAAD9////AQAJAAIAAAD9//7/AQAJAAIAAAD+////AQAJAAIAAAD///7/AQAJAAIAAAAAAP//AQAJAAIAAAD/////AQAJAAIAAAAAAP7/AQAJAAIAAAABAP7/AQAJAAIAAAABAP//AQAFAAEAAAACAP//AQAFAAEAAAACAP7/AQADAAIAAAABAP3/AQADAAIAAAACAP3/AQADAAIAAAAEAP3/AQADAAIAAAAFAP3/AQAFAAEAAAAGAP7/AQAFAAEAAAAGAP//AQAFAAEAAAAFAP7/AQAFAAEAAAAEAP7/AQAFAAEAAAAEAP//AQAFAAEAAAAFAP//AQAFAAEAAAALAPz/AQADAAIAAAANAPz/AQADAAIAAAANAP3/AQADAAIAAADy//z/AgABAAAAAAD0//z/AgABAAAAAAD2//z/AgABAAAAAAD4//z/AgABAAAAAAD6//z/AgABAAAAAADz//v/AgAAAAAAAAD1//v/AgAAAAAAAAD3//v/AgAAAAAAAAD5//v/AgAAAAAAAAD7//v/AgAAAAAAAAD9//v/AgAAAAAAAAD///v/AgAAAAAAAAD8//z/AgABAAAAAAD+//z/AgABAAAAAAAAAPz/AgABAAAAAAACAPz/AgABAAAAAAAEAPz/AgABAAAAAAAGAPz/AgABAAAAAAAIAPz/AgABAAAAAAAKAPz/AgABAAAAAAAMAPz/AgABAAAAAAANAPv/AgAAAAAAAAALAPv/AgAAAAAAAAAJAPv/AgAAAAAAAAAHAPv/AgAAAAAAAAAFAPv/AgAAAAAAAAABAPv/AgAAAAAAAAA=")
tile_set = ExtResource("1_lbhrr")
collision_enabled = false
navigation_enabled = false
script = ExtResource("2_lbhrr")

[node name="ItemLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAAAAUAAAAEAAAAAAD8/wcAAAAFAAAAAAD7/wYAAAAAAAAAAAD7/wIAAAABAAAAAAD9/wYAAAABAAAAAAADAAIAAAAFAAAAAQAAAAQAAAACAAAAAQD//wMAAAACAAAAAAD+/wQAAAABAAAAAAD+/wgAAAAAAAAAAAD//wgAAAAFAAAAAAADAAYAAAAEAAAAAAA=")
tile_set = ExtResource("1_lbhrr")
collision_enabled = false
navigation_enabled = false
script = ExtResource("2_lbhrr")

[node name="TileManager" type="Node" parent="." node_paths=PackedStringArray("_wall_layer", "_light_layer", "_item_layer", "_event_layer")]
script = ExtResource("5_iywne")
_wall_layer = NodePath("../WallLayer")
_light_layer = NodePath("../LightLayer")
_item_layer = NodePath("../ItemLayer")
_event_layer = NodePath("../EventLayer")
_lights_source_id = 3

[node name="Camera2D" type="Camera2D" parent="."]
script = ExtResource("6_p57ef")

[node name="Label" type="Label" parent="."]
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -1276.0
offset_top = -195.0
offset_right = 1.0
offset_bottom = -63.0
grow_horizontal = 2
size_flags_horizontal = 4
text = "   Iluminate the    Depths!"
label_settings = SubResource("LabelSettings_8cj0n")
horizontal_alignment = 1
vertical_alignment = 1

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Menu" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 6
size_flags_vertical = 6

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/Menu"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Panel" type="Panel" parent="CanvasLayer/Menu/VBoxContainer"]
custom_minimum_size = Vector2(0, 64)
layout_mode = 2
size_flags_vertical = 10

[node name="ItemContainer" type="HBoxContainer" parent="CanvasLayer/Menu/VBoxContainer/Panel"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
alignment = 1

[connection signal="checkpoint_reached" from="TileManager" to="." method="_on_tile_manager_checkpoint_reached"]
